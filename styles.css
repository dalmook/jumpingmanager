/* =========================
File: styles.css (Jumping Battle orange theme · improved)
========================= */

:root{
  --bg:#ffffff;
  --fg:#1f1a17;
  --muted:#8f8b86;

  --card:#ffffff;
  --line:#f1eee9;

  --primary:#ff7a00;
  --primary-2:#ff9740;
  --ghost:#fff3e8;
  --accent:#66d7c4;

  --danger:#ff6b81;
  --shadow: 0 10px 24px rgba(255,122,0,.12);
  --radius: 18px;

  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-rounded, "SF Pro Rounded", system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--fg); background: var(--bg);
  line-height:1.5;
}

/* iOS Header */
.ios-header{
  position:sticky; top:0; z-index:1000;
  backdrop-filter: saturate(180%) blur(16px);
  background: linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.8));
  border-bottom:1px solid var(--line);
}
.safe-pad{ height: calc(var(--safe-top, 0px)); }
.header-inner{ padding: 14px 16px 14px; position: relative; }
.header-top{ display:flex; justify-content:space-between; align-items:flex-start; gap:12px; flex-wrap:wrap }
.brand{ display:flex; align-items:center; gap:8px }
.logo-dot{ width:12px; height:12px; border-radius:50%; background:linear-gradient(135deg,#ffc08a,#ff7a00) }
.brand-text{ font-size:15px; font-weight:900; color:#ff7a00; letter-spacing:.2px }
.large-title{ margin:6px 0 2px; font-size:30px; font-weight:900; letter-spacing:.2px; color:#ff7a00 }
.subtitle{ margin:0; color:var(--muted); font-size:13px }

/* Auth */
.auth-area { width: 100%; }
#signedOut.auth-row{ max-width: 520px; margin: 10px auto 0; gap: 10px; }
#signedOut.auth-row input{ flex:1 1 100%; min-width:0; width:100%; font-size:16px; padding:14px 16px; }
#signedOut.auth-row .btn{ flex:1 1 48%; font-size:16px; padding:14px 16px; }
@media (max-width: 420px){ #signedOut.auth-row .btn{ flex-basis:100%; } }

.auth-row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap }
.auth-row input{
  flex:1; min-width:220px; padding:12px 14px; border-radius:14px;
  border:1px solid var(--line); background:#fff; box-shadow: var(--shadow);
}

/* Buttons */
.btn{
  padding:12px 16px; border-radius:14px; border:0;
  background:var(--ghost); color:#7a4b1a; font-weight:800; box-shadow: var(--shadow);
  min-height:42px;
  transition:.2s;
}
.btn.primary{ background: linear-gradient(135deg, var(--primary), var(--primary-2)); color:#fff }
.btn.ghost{ background:#fff1e6; color:#b65b16; border:1px solid #ffd9b8 }
.btn.warn{ background:#ffd58c; color:#6a3f00 }
.btn.danger{ background:var(--danger); color:#fff }
.btn.small{ padding:8px 10px; border-radius:10px; font-size:13px }
.btn:hover{ filter: brightness(1.03); }
.btn:disabled{ opacity:.55; cursor:not-allowed; box-shadow:none; }
.hidden{ display:none !important; }
.muted{ color:var(--muted) }

/* App Shell */
.app-shell{ max-width:1180px; margin:0 auto; padding: 16px clamp(12px, 3vw, 20px) }

/* Cards & Panels */
.panel{ background:transparent; padding:0; margin:16px 0 }
.card{
  background:var(--card); border:1px solid var(--line); border-radius:var(--radius);
  box-shadow: var(--shadow); padding:16px;
}
.card.glass{ background:rgba(255,255,255,.75); backdrop-filter: saturate(180%) blur(12px); border:1px solid #ffe0c4; }
.section-head h2{ margin:0 0 6px; font-size:18px; font-weight:900 }
.section-card{
  background:#fff; border:1px solid #ffe7cf; border-radius:16px;
  padding:14px; box-shadow: var(--shadow); margin-top:12px
}
.section-row{ display:flex; align-items:center; justify-content:space-between; gap:12px }

/* Segmented */
.segmented{ display:inline-flex; border:1px solid var(--line); border-radius:999px; overflow:hidden; background:#fff; box-shadow: var(--shadow) }
.segmented .seg{ padding:10px 14px; border:0; background:transparent; font-weight:800; color:#7a4b1a; }
.segmented .seg.on{ background:#fff0e4; color:#ff7a00; }

/* Admin 2-column */
.admin-grid{ display:grid; grid-template-columns: 360px 1fr; gap:16px; align-items:start; margin-top:12px; }
.stick-left{ position:sticky; top:calc(10px + var(--safe-top,0px)); }

/* Search & Quick Register */
.search-row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap }
.quick-register details{
  margin-top:10px; background:#fff; border:1px solid #ffe7cf;
  border-radius:14px; padding:10px 12px; box-shadow: var(--shadow);
}
.quick-register summary{ cursor:pointer; font-weight:800; color:#ff7a00 }

/* Grids */
.grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px }
.grid.two{ grid-template-columns:1fr 1fr }
.quick-register .grid.three{ grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
.quick-register input, .quick-register select { width:100%; }
.grid button{ grid-column: span 1 }
.row{ display:flex; gap:8px; align-items:center }
.wrap{ flex-wrap:wrap }
.gap8{ gap:8px }
.mt8{ margin-top:8px } .mt16{ margin-top:16px }
.w110{ width:110px }

/* List */
.list{ display:grid; gap:8px; margin-top:8px }
.item{
  padding:12px 14px; border:1px solid #ffe5cc; border-radius:14px; background:#fff;
  display:flex; justify-content:space-between; align-items:center;
  transition:.16s transform ease, .16s box-shadow ease;
  min-height:44px;
}
.item:hover{ transform: translateY(-2px); box-shadow: 0 10px 20px rgba(255,122,0,.10) }
.list.small .item{ padding:10px; font-size:14px; line-height:1.4; }

/* Member Card */
.member-card{ display:flex; flex-direction:column; gap:16px }
.member-card.compact{ gap:12px }
.member-head{ display:flex; justify-content:space-between; gap:16px; align-items:flex-start }
.m-name{ font-size:22px; font-weight:900 }

/* Stats */
.stats{ display:flex; gap:10px; flex-wrap:wrap }
.stat{
  background:#fff; border:1px solid #ffe7cf; border-radius:999px; padding:10px 14px; min-width:120px;
  box-shadow: var(--shadow);
}
.stat .label{ color:var(--muted); font-size:12px; font-weight:700; text-transform:uppercase; letter-spacing:.5px }
.stat .value{ font-weight:900; font-size:20px }

/* Progress Dots */
.progress{ padding:4px 0 }
#selfDots.dots{ display:flex; justify-content:space-between; align-items:center; gap:4px; }
#stampDots.dots{ display:grid; grid-template-columns: repeat(10, 1fr); gap:6px; }
.dot{ width:100%; height:14px; border-radius:8px; background:#fff6ed; border:1px solid #ffe2c9; }
.dot.on{ background:#ffcf9e; }

/* Inputs */
input,select{
  padding:12px 14px; border-radius:14px; border:1px solid var(--line); background:#fff; color:var(--fg); box-shadow: var(--shadow);
  min-height:42px;
}
::placeholder { color:#b7b2ac; }

/* Danger Zone */
.danger-zone{
  background:#fff2f4; border:1px solid #ffe1e6; border-radius:16px;
  border-left:4px solid #ff6b81;
}

/* FAB */
.fab-area{ position:fixed; right:16px; bottom: calc(16px + var(--safe-bottom, 0px)); z-index:999 }
.fab{
  width:56px; height:56px; border-radius:50%; border:0;
  background:linear-gradient(135deg, var(--primary-2), var(--primary));
  color:#fff; font-size:28px; font-weight:900;
  box-shadow: 0 14px 28px rgba(255,122,0,.28);
}

/* ... (중략: 기존 손님 화면, QR, summary-box, pass-card 등 동일, 그대로 유지) ... */

/* 관리자: 로그 리스트 */
#logList { display:flex; flex-direction:column; gap:8px; }
.log-item{ display:flex; justify-content:space-between; align-items:center; padding:8px 10px; border:1px solid #eee; border-radius:10px; background:#fff; }
.log-left{ display:flex; gap:10px; align-items:center; }
.log-icon{ font-size:18px; }
.log-main{ display:flex; flex-direction:column; max-width:100%; }
.log-title{ font-weight:700; }
.log-detail{
  font-size:12px; color:var(--muted);
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
}
.log-right{ text-align:right; min-width:180px; white-space:nowrap; }
@media(max-width:520px){ .log-right{ min-width:auto; white-space:normal; text-align:left; } }
.btn-more{ margin-top:8px; padding:8px 12px; border-radius:8px; border:1px solid #ddd; background:#fafafa; cursor:pointer; }
.btn-more:hover{ background:#f3f3f3; }

/* 관리자: 회원 목록 표시 */
#adminList .item .m-name{ font-weight:800; font-size:inherit; color:#222; }
#adminList .item .m-phone{ color:#0b6bcb; font-weight:700; }
#adminList .item .m-team{ color:#555; font-style:italic; }
#adminList .item .sep{ color:#999; font-weight:900; margin:0 4px; }

/* PC 레이아웃: 관리자패널 + 상세 카드 */
@media (min-width:1024px){
  #adminPanel:not(.hidden){ display:flex; align-items:flex-start; gap:16px; }
  #adminList{ flex:0 0 360px; max-width:360px; }
  #memberSection{ flex:1 1 0; min-width:720px; max-width:none; }

  /* 스탬프/무료권 + 다회권 카드를 1열 전체 */
  #memberSection .section-card:has(#btnAddVisit),
  #memberSection .section-card:has(#passList),
  #memberSection .card:has(#btnAddVisit),
  #memberSection .card:has(#passList){
    flex:1 0 100%; width:100%; max-width:none; grid-column:1 / -1;
  }

  /* 다회권 내부 인풋 폭 해제 */
  #memberSection .section-card:has(#passList) #passSelect,
  #memberSection .section-card:has(#passList) #passName,
  #memberSection .section-card:has(#passList) #passCount,
  #memberSection .section-card:has(#passList) #passDelta{
    max-width:none !important; width:100% !important;
  }

  #passList, #stageList{ max-height:420px; overflow:auto; }
}
@media (min-width:1280px){ #memberSection{ min-width:860px; } }

/* 포커스 가시성 */
:focus{ outline:none; }
:focus-visible{
  outline:2px solid var(--primary); outline-offset:2px; border-radius:12px;
}
input:focus-visible, select:focus-visible, .btn:focus-visible{
  box-shadow:0 0 0 3px rgba(255,122,0,.18), var(--shadow);
  border-color:#ffd9b8;
}

/* 스크롤바 */
#passList::-webkit-scrollbar, #stageList::-webkit-scrollbar{ width:8px; height:8px; }
#passList::-webkit-scrollbar-thumb, #stageList::-webkit-scrollbar-thumb{ background:#ffd9b8; border-radius:8px; }
#passList::-webkit-scrollbar-track, #stageList::-webkit-scrollbar-track{ background:#fff7ef; }

/* 모션 줄이기 선호 반영 */
@media(prefers-reduced-motion:reduce){ *{ transition:none !important; animation:none !important; } }
